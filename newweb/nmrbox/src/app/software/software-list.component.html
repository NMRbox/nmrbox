<div class="section-banner-new">
  <img src="/assets/section-banners/software-header-97h.png" alt="Software">
</div>
<div class="section-banner-bg gray-bg"></div>
<div class="sw-filters-container">
  <div class="sw-filters">
    <mat-form-field>
      <mat-select
        [(ngModel)]="activeResearchProblem"
        placeholder="Research problem">
        <mat-select-trigger>
          <img src="./assets/icons/software_menu/rp-icon-{{researchSlugs[activeResearchProblem]}}-menu.svg"
               [alt]="researchProblems[activeResearchProblem]"
               [title]="researchProblems[activeResearchProblem]"
               *ngIf="activeResearchProblem">
        </mat-select-trigger>
        <mat-option
          (click)="filterSelections()"
          [value]='null'>Show all
        </mat-option>
        <mat-option
          value="21"
          (click)="filterSelections()">
          <img src="/assets/icons/software_menu/rp-icon-metabolomics-menu.svg" alt="Metabolomics" title="Metabolomics" height="30">
        </mat-option>
        <mat-option
          value="22"
          (click)="filterSelections()">
          <img src="/assets/icons/software_menu/rp-icon-protein-dynamics-menu.svg" alt="Protein Dynamics" title="Protein Dynamics" height="30">
        </mat-option>
        <mat-option
          value="23"
          (click)="filterSelections()">
          <img src="/assets/icons/software_menu/rp-icon-protein-structure-menu.svg" alt="Protein Structure" title="Protein Structure" height="30">
        </mat-option>
        <mat-option
          value="24"
          (click)="filterSelections()">
          <img src="/assets/icons/software_menu/rp-icon-intrinsically-menu.svg" alt="Intrinsically Disordered Proteins" title="Intrinsically Disordered Proteins" height="30">
        </mat-option>
        <mat-option
          value="25"
          (click)="filterSelections()">
          <p>Binding</p>
        </mat-option>
      </mat-select>
    </mat-form-field>

    <span class="spacer-span">and</span>

    <mat-form-field>
      <mat-select
        placeholder="Software type"
        [(ngModel)]="activeSoftwareType">
        <mat-select-trigger>
          <img src="./assets/icons/software_menu/sw-icon-{{softwareSlugs[activeSoftwareType]}}-menu.svg"
               [alt]="softwareTypes[activeSoftwareType]"
               [title]="softwareTypes[activeSoftwareType]"
               *ngIf="activeSoftwareType">
        </mat-select-trigger>
        <mat-option
          (click)="filterSelections()"
          [value]='null'>Show all
        </mat-option>
        <mat-option
          value="1"
          (click)="filterSelections()">
          <img src="./assets/icons/software_menu/sw-icon-spectral-menu.svg" alt="Spectrum Analysis" title="Spectrum Analysis" height="22">
        </mat-option>
        <mat-option
          value="2"
          (click)="filterSelections()">
          <img src="./assets/icons/software_menu/sw-icon-chemical-menu.svg" alt="Chemical Shift" title="Chemical Shift" height="22">
        </mat-option>
        <mat-option
          value="3"
          (click)="filterSelections()">
          <img src="./assets/icons/software_menu/sw-icon-molecular-menu.svg" alt="Molecular Modeling" title="Molecular Modeling" height="22">
        </mat-option>
        <mat-option
          value="4"
          (click)="filterSelections()">
          <img src="./assets/icons/software_menu/sw-icon-structure-menu.svg" alt="Structure Visualization" title="Structure Visualization" height="22">
        </mat-option>
        <mat-option
          value="5"
          (click)="filterSelections()">
          <img src="./assets/icons/software_menu/sw-icon-rdc-menu.svg" alt="Residual Dipolar Coupling" title="Residual Dipolar Coupling" height="22">
        </mat-option>
        <mat-option
          value="6"
          (click)="filterSelections()">
          <img src="./assets/icons/software_menu/sw-icon-assignment-menu.svg" alt="Assignment" title="Assignment" height="22">
        </mat-option>
        <mat-option
          value="7"
          (click)="filterSelections()">
          <img src="./assets/icons/software_menu/sw-icon-relaxation-menu.svg" alt="Relaxation" title="Relaxation" height="22">
        </mat-option>
        <mat-option
          value="8"
          (click)="filterSelections()">
          <p>Validation</p>
        </mat-option>
        <mat-option
          value="9"
          (click)="filterSelections()">
          <p>Time-domain data processing</p>
        </mat-option>
      </mat-select>
    </mat-form-field>

    <span class="spacer-span">and</span>

    <mat-form-field>
      <input matInput
             type="search"
             id="search-box"
             [(ngModel)]="activeNameSearch"
             (keyup)="filterSelections()"
             placeholder="Search software"/>
      <!--<span class="icon-search"></span>-->
    </mat-form-field>

    <span class="spacer-span"></span>

    <a id="all-software" (click)="resetSelections(); getSoftwareList(); $event.stopPropagation();">Show All</a>
  </div>
</div>

<!-- Software registry listings -->
<mat-grid-list class="software-list" cols="3" rowHeight="250px">
  <mat-grid-tile class="tile-dashed" *ngFor="let software of filteredList"
                 (click)="gotoDetail(software); $event.stopPropagation()">
    <mat-card class="sw-card">
      <mat-card-header>
        <mat-card-title>{{software.short_title}}</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>
          {{software.synopsis}}
        </p>
      </mat-card-content>
      <!--<ul class="icon-list">
        <li *ngFor="let type of software.software_type" class="sw-type-icon-small sw-type-icon-{{softwareSlugs[type['id']]}}"></li>
      </ul>-->
    </mat-card>
  </mat-grid-tile>
</mat-grid-list>
